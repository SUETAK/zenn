---
title: "分散システムを学び直してみる"
emoji: "👋"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

# この記事のゴール
- 分散システムとは何か？の簡単な概念を説明できる
- 分散システムの例を３例思い浮かべることができる
- 分散システムに関しての調査をする次のステップがわかる

# 分散システムとは何か

> コンピュータープログラムの集合体で、共通する共有の目標を達成するために、複数の異なる計算ノード全体の計算リソースを利用します。
分散コンピューティングまたは分散データベースとも呼ばれ、共通のネットワーク上で通信して同期するために個別のノードを利用しています。
通常、これらのノードは個別の物理ハードウェアデバイスを表しますが、個別のソフトウェアプロセスやその他の再起的にカプセル化されたシステムを表す場合もあります。
このシステムは、システムからボトルネックや単一障害点を排除することを目的としています。

[【引用：分散システムとは】](https://www.atlassian.com/ja/microservices/microservices-architecture/distributed-architecture)

## 何に対しての「分散」なのか
上記で分散システムの説明を引用しました。
端的に言えば、分散システムの「分散」は「複数のコンピューターで負荷を分散させている」ことを示していると認識して貰えば良いと思います。
つまり、分散システムの「分散」は「サービスやシステムの計算量に対する分散」を示していると考えられます。

例えばECS、RDSで構成される単純なAPIサーバーも、ECS、RESという複数のコンピューターで負荷を分散させているため、完全ではないですが分散システムであると言えるでしょう。

## 分散システムと呼ばれる条件
もちろん、複数のコンピューターで負荷を分散させただけで「分散システム」とは言えません。
「分散システム」の条件は主に下記のようなモノが挙げられます。

- 複数のリソースを持つこと
- それぞれのリソースがネットワーク上で動作し、相互に通信を行っていること
- スケーラビリティが考慮されていること
- 使っている人には、１台の集中システムのように見える

## １台の集中システムのように見える
分散システムに置いて重要なのは、使っている人にとっては1つに見えるということです。
X（旧ツイッター）、Instagramなど、スマートフォンに入っているアプリケーションは画面から見た時は1つのアプリケーションが動作しているように見えますよね。
ネットフリックスやAmazonプライムなどの動画配信サービスも、画面から見た時は1つのアプリケーションに見えます。

しかし実際には、動画を配信するサーバーは複数存在しており（実際に確認したわけではないですが）、動画配信の負荷を複数のサーバーで軽減させています。
分散システムの要件を満たすためには、集中システムが提供していた機能を提供しつつ、複数のコンピューターによって負荷を手分けすることで「使っている人にとっては１台の集中システムのように振る舞う」必要があります。


# 集中システム
分散システムの対義語は「集中システム」となります。
全ての処理が1つのコンピューターで行われていれば、それは集中システムと呼ばれます。
実際に構築するとしたら、1つのECSリソースの中で下記の3項目などの要件を満たせばよいでしょう。
- HTMLレンダリング
- API通信
- DB 管理

# 分散システムの構築
分散システムは構築方法にいくつかのパターンがあることが知られており、それらについて簡単に説明します。

[ソフトウェアアーキテクチャの基礎](https://www.oreilly.co.jp//books/9784873119823/) から抜粋していますので、本文を知りたい場合はそちらへ。
また、それぞれのアーキテクチャに関して詳細が書かれていそうな書籍がある場合はリンクをつけますので、内容のご確認の上、購入してください。

## レイヤードアーキテクチャ
最も単純なアーキテクチャです。

## サービスベースアーキテクチャ
マイクロサービスほど境界を区切らず、一部レイヤードアーキテクチャを採用するアーキテクチャです。
例えば、ECサービス


## イベント駆動アーキテクチャ
サービスの境界の区切りを行わず、サービスの中で発生する動作をイベントとして定義し、イベントを元にして処理を実行していくアーキテクチャです。

## マイクロサービスアーキテクチャ
サービスの境界を定め、それぞれの境界で区切られた領域ごとにサービスを実装するアーキテクチャです。




# 疑問
- 何に対しての「分散」？
同一の目的に対してのアプローチの仕方の問題
